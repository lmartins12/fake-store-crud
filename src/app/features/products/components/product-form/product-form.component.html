<form [formGroup]="form" (ngSubmit)="onSubmit()" class="product-form">
  <div class="product-form__field">
    <label for="title" class="product-form__label">
      Título <span class="product-form__required">*</span>
    </label>
    <input
      id="title"
      type="text"
      pInputText
      formControlName="title"
      class="product-form__input"
      [class.product-form__input--error]="hasError('title')"
    />
    @if (hasError('title')) {
      <small class="product-form__error">{{ getErrorMessage('title') }}</small>
    }
  </div>

  <div class="product-form__field">
    <label for="price" class="product-form__label">
      Preço <span class="product-form__required">*</span>
    </label>
    <p-inputNumber
      inputId="price"
      formControlName="price"
      mode="currency"
      currency="BRL"
      locale="pt-BR"
      [minFractionDigits]="2"
      [maxFractionDigits]="2"
      styleClass="product-form__input-number"
      [class.product-form__input--error]="hasError('price')"
    ></p-inputNumber>
    @if (hasError('price')) {
      <small class="product-form__error">{{ getErrorMessage('price') }}</small>
    }
  </div>

  <div class="product-form__field">
    <label for="category" class="product-form__label">
      Categoria <span class="product-form__required">*</span>
    </label>
    <input
      pInputText
      id="category"
      formControlName="category"
      placeholder="Digite a categoria do produto"
      class="product-form__input"
      [class.product-form__input--error]="hasError('category')"
    />
    @if (hasError('category')) {
      <small class="product-form__error">{{ getErrorMessage('category') }}</small>
    }
  </div>

  <div class="product-form__field">
    <label for="description" class="product-form__label">
      Descrição <span class="product-form__required">*</span>
    </label>
    <textarea
      id="description"
      pInputTextarea
      formControlName="description"
      rows="5"
      class="product-form__textarea"
      [class.product-form__input--error]="hasError('description')"
    ></textarea>
    @if (hasError('description')) {
      <small class="product-form__error">{{ getErrorMessage('description') }}</small>
    }
  </div>

  <div class="product-form__field">
    <label for="image" class="product-form__label">
      Imagem (URL) <span class="product-form__required">*</span>
    </label>
    <input
      id="image"
      type="text"
      pInputText
      formControlName="image"
      class="product-form__input"
      [class.product-form__input--error]="hasError('image')"
      placeholder="https://exemplo.com/imagem.jpg"
    />
    @if (hasError('image')) {
      <small class="product-form__error">{{ getErrorMessage('image') }}</small>
    }
  </div>

  <div class="product-form__actions">
    <p-button
      label="Cancelar"
      severity="danger"
      type="button"
      (onClick)="onCancel()"
      [outlined]="true"
    />
    <p-button label="Salvar" severity="primary" type="submit" [disabled]="form.invalid" />
  </div>
</form>
